# Linear-Jira Sync Configuration
#
# Configuration Priority (highest to lowest):
# 1. Environment variables (e.g., LINEAR_API_TOKEN)
# 2. System properties (e.g., -Dlinear.api.token=...)
# 3. ~/.linear-jira-sync/config.properties (user-specific configuration)
# 4. application-local.properties (project-local configuration, in .gitignore)
# 5. application.properties (this file - default configuration)
# 6. Default values
#
# For local development, you can:
# - Create ~/.linear-jira-sync/config.properties with your credentials (recommended)
# - Create application-local.properties with your credentials (add to .gitignore)
# - Set values directly in this file (NOT recommended for credentials)
# - Use environment variables (recommended for credentials)
#
# For production, use environment variables for all sensitive credentials.

# Linear API Configuration
linear.api.url=https://api.linear.app/graphql
# Set LINEAR_API_TOKEN environment variable or uncomment and set below:
linear.api.token=${LINEAR_API_TOKEN:test_}

# Jira API Configuration
# Set JIRA_API_URL environment variable or uncomment and set below:
jira.api.url=${JIRA_API_URL:}
# Set JIRA_USERNAME environment variable or uncomment and set below:
jira.api.username=${JIRA_USERNAME:}
# Set JIRA_API_TOKEN environment variable or uncomment and set below:
jira.api.token=${JIRA_API_TOKEN:}
# Set JIRA_PROJECT_KEY environment variable or uncomment and set below:
jira.project.key=${JIRA_PROJECT_KEY:}
# Jira issue type for created issues (default: Task)
jira.issue.type=${JIRA_ISSUE_TYPE:Task}
# Custom field ID for storing Linear issue ID in Jira
jira.custom-field.linear-id=${JIRA_LINEAR_ID_FIELD:}
# Enable priority field mapping from Linear to Jira
jira.enable-priority=${JIRA_ENABLE_PRIORITY:false}

# Sync Configuration
sync.dry-run=false
sync.batch-size=50

# Storage Configuration
sync.storage.location=${LINEARSYNC_STORAGE_LOCATION:${user.home}/.linear-jira-sync}
sync.storage.max-backups=${LINEARSYNC_MAX_BACKUPS:5}

# Attachment Sync Configuration
attachment.sync.enabled=${ATTACHMENT_SYNC_ENABLED:true}
attachment.download.timeout=${ATTACHMENT_DOWNLOAD_TIMEOUT:30}
attachment.download.max-size=${ATTACHMENT_MAX_SIZE:10485760}

# Quarkus Configuration
quarkus.banner.enabled=false

# JVM Options for Java 24+ compatibility
quarkus.args=--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED

# Logging Configuration
# Set clean console format for CLI output
quarkus.log.console.format=%m%n
quarkus.log.level=INFO
quarkus.log.console.level=INFO
# Ensure debug logging shows all relevant information when verbose is enabled
quarkus.log.category."bogdanpc.linearsync".level=INFO


# Load configuration files in order (later files override earlier ones)
# ~/.linear-jira-sync/config.properties is loaded first (if it exists)
# application-local.properties is loaded second (if it exists, for project-local overrides)
# Environment variables and system properties will override all file-based configuration
smallrye.config.locations=${user.home}/.linear-jira-sync/config.properties,application-local.properties

# REST Client Configuration
quarkus.rest-client.linear-api.url=${linear.api.url}
quarkus.rest-client.linear-api.scope=jakarta.inject.Singleton
quarkus.rest-client.jira-api.url=${jira.api.url}
quarkus.rest-client.jira-api.scope=jakarta.inject.Singleton

# Debug Logging Configuration
%dev.quarkus.log.category."org.jboss.resteasy.reactive.client".level=DEBUG
%dev.quarkus.log.category."io.vertx.core.http.impl".level=DEBUG
%dev.quarkus.log.category."bogdanpc.linearsync.client".level=DEBUG
%dev.quarkus.rest-client.logging.scope=request-response
%dev.quarkus.rest-client.logging.body-limit=1024